<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Bug Reporter Analysis - Interactive Dashboard</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdn.datatables.net/1.13.6/css/dataTables.bootstrap5.min.css" rel="stylesheet">
    <script src="https://code.jquery.com/jquery-3.7.0.min.js"></script>
    <script src="https://cdn.datatables.net/1.13.6/js/jquery.dataTables.min.js"></script>
    <script src="https://cdn.datatables.net/1.13.6/js/dataTables.bootstrap5.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/echarts@5.4.3/dist/echarts.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <style>
        :root {
            --color-primary: #2563EB;
            --color-success: #10B981;
            --color-bg: #F8FAFC;
        }
        body { font-family: 'Inter', sans-serif; background: var(--color-bg); }
        .dashboard-header { background: linear-gradient(135deg, #2563EB 0%, #1E40AF 100%); color: white; padding: 2rem; }
        .metric-card { background: white; border-radius: 8px; padding: 1.5rem; margin-bottom: 1rem; box-shadow: 0 2px 4px rgba(0,0,0,0.1); }
        .metric-value { font-size: 2rem; font-weight: 700; color: var(--color-primary); }
        .metric-label { font-size: 0.875rem; color: #64748B; }
        .chart-container { background: white; border-radius: 8px; padding: 1.5rem; margin-bottom: 1rem; box-shadow: 0 2px 4px rgba(0,0,0,0.1); }
        .chart { width: 100%; height: 400px; }
    </style>
</head>
<body>
    <div class="dashboard-header">
        <div class="container">
            <h1>Bug Reporter Characterization - Interactive Dashboard</h1>
            <p>January 7, 2026 • Nimrod Fisher | AI Analytics Hub</p>
        </div>
    </div>
    
    <div class="container mt-4">
        <div class="row">
            <div class="col-md-3">
                <div class="metric-card">
                    <div class="metric-value">+15.6%</div>
                    <div class="metric-label">More Active</div>
                </div>
            </div>
            <div class="col-md-3">
                <div class="metric-card">
                    <div class="metric-value">+28.2%</div>
                    <div class="metric-label">Higher MRR</div>
                </div>
            </div>
            <div class="col-md-3">
                <div class="metric-card">
                    <div class="metric-value">+31.8%</div>
                    <div class="metric-label">Higher ARPU</div>
                </div>
            </div>
            <div class="col-md-3">
                <div class="metric-card">
                    <div class="metric-value">Similar</div>
                    <div class="metric-label">Churn Rate</div>
                </div>
            </div>
        </div>
        
        <div class="chart-container">
            <h5>Behavioral Comparison</h5>
            <div id="behaviorChart" class="chart"></div>
        </div>
        
        <div class="chart-container">
            <h5>Revenue Comparison</h5>
            <div id="revenueChart" class="chart"></div>
        </div>
        
        <div class="chart-container">
            <h5>Account Patterns</h5>
            <table id="accountTable" class="table table-striped table-hover">
                <thead>
                    <tr>
                        <th>Account Group</th>
                        <th>Account Count</th>
                        <th>Avg Users</th>
                        <th>Avg Events</th>
                        <th>Plans</th>
                    </tr>
                </thead>
                <tbody></tbody>
            </table>
        </div>
        
        <div class="chart-container">
            <h5>Event Type Association</h5>
            <table id="eventTable" class="table table-striped table-hover">
                <thead>
                    <tr>
                        <th>Event Type</th>
                        <th>Bug Reporters</th>
                        <th>Other Users</th>
                        <th>% Bug Reporters</th>
                        <th>% Other Users</th>
                    </tr>
                </thead>
                <tbody></tbody>
            </table>
        </div>
        
        <div class="text-center text-muted my-4">
            <small>The Analytics Team • ai-analytics-hub.com</small>
        </div>
    </div>
    
    <script>
        // Embedded data
        const behaviorData = [{"cohort": "Bug Reporter", "user_count": 21, "avg_total_events": "11.14", "avg_distinct_event_types": "3.86", "avg_events_last_30d": "0.00", "avg_activity_span_days": "72.00"}, {"cohort": "Other User", "user_count": 179, "avg_total_events": "9.64", "avg_distinct_event_types": "3.92", "avg_events_last_30d": "0.00", "avg_activity_span_days": "68.17"}];
        const revenueData = [{"cohort": "Bug Ticket Accounts", "account_count": 17, "avg_subs_per_account": "2.71", "avg_active_subs": "1.76", "avg_canceled_subs": "0.71", "avg_monthly_price": "126.40", "avg_account_mrr": "210.59", "avg_subscription_tenure_days": "325.97"}, {"cohort": "Other Accounts", "account_count": 29, "avg_subs_per_account": "2.55", "avg_active_subs": "1.66", "avg_canceled_subs": "0.69", "avg_monthly_price": "95.87", "avg_account_mrr": "164.21", "avg_subscription_tenure_days": "301.04"}];
        const accountData = [{"account_group": "Multi-Bug Accounts", "account_count": 2, "avg_users": "3.50", "avg_events": "42.00", "avg_non_bug_tickets": "0.50", "plans_represented": "enterprise, pro"}, {"account_group": "Single-Bug Accounts", "account_count": 18, "avg_users": "4.50", "avg_events": "39.61", "avg_non_bug_tickets": "1.22", "plans_represented": "enterprise, free, pro"}, {"account_group": "No Bug Tickets", "account_count": 30, "avg_users": "3.73", "avg_events": "38.77", "avg_non_bug_tickets": "1.13", "plans_represented": "enterprise, free, pro"}];
        const eventData = [{"event_type": "login", "bug_reporter_users": 19, "other_users": 148, "pct_bug_reporters": "90.48", "pct_other_users": "82.68", "overrepresentation_ratio": "0.13"}, {"event_type": "file_upload", "bug_reporter_users": 17, "other_users": 143, "pct_bug_reporters": "80.95", "pct_other_users": "79.89", "overrepresentation_ratio": "0.12"}, {"event_type": "report_view", "bug_reporter_users": 16, "other_users": 137, "pct_bug_reporters": "76.19", "pct_other_users": "76.54", "overrepresentation_ratio": "0.12"}, {"event_type": "logout", "bug_reporter_users": 16, "other_users": 143, "pct_bug_reporters": "76.19", "pct_other_users": "79.89", "overrepresentation_ratio": "0.11"}, {"event_type": "api_call", "bug_reporter_users": 13, "other_users": 131, "pct_bug_reporters": "61.90", "pct_other_users": "73.18", "overrepresentation_ratio": "0.10"}];
        
        // Behavior Chart
        const bugBehavior = behaviorData.find(d => d.cohort === 'Bug Reporter');
        const otherBehavior = behaviorData.find(d => d.cohort === 'Other User');
        
        const behaviorChart = echarts.init(document.getElementById('behaviorChart'));
        behaviorChart.setOption({
            tooltip: { trigger: 'axis' },
            legend: { data: ['Bug Reporters', 'Other Users'] },
            xAxis: { type: 'category', data: ['Avg Events', 'Event Types', 'Activity Span'] },
            yAxis: { type: 'value' },
            series: [
                { name: 'Bug Reporters', type: 'bar', data: [bugBehavior.avg_total_events, bugBehavior.avg_distinct_event_types, bugBehavior.avg_activity_span_days], itemStyle: { color: '#10B981' } },
                { name: 'Other Users', type: 'bar', data: [otherBehavior.avg_total_events, otherBehavior.avg_distinct_event_types, otherBehavior.avg_activity_span_days], itemStyle: { color: '#2563EB' } }
            ]
        });
        
        // Revenue Chart
        const bugRevenue = revenueData.find(d => d.cohort === 'Bug Ticket Accounts');
        const otherRevenue = revenueData.find(d => d.cohort === 'Other Accounts');
        
        const revenueChart = echarts.init(document.getElementById('revenueChart'));
        revenueChart.setOption({
            tooltip: { trigger: 'axis' },
            legend: { data: ['Bug Ticket Accounts', 'Other Accounts'] },
            xAxis: { type: 'category', data: ['Monthly Price', 'Account MRR', 'Tenure (days)'] },
            yAxis: { type: 'value' },
            series: [
                { name: 'Bug Ticket Accounts', type: 'bar', data: [bugRevenue.avg_monthly_price, bugRevenue.avg_account_mrr, bugRevenue.avg_subscription_tenure_days], itemStyle: { color: '#10B981' } },
                { name: 'Other Accounts', type: 'bar', data: [otherRevenue.avg_monthly_price, otherRevenue.avg_account_mrr, otherRevenue.avg_subscription_tenure_days], itemStyle: { color: '#2563EB' } }
            ]
        });
        
        // Account Patterns Table
        $('#accountTable').DataTable({
            data: accountData,
            columns: [
                { data: 'account_group' },
                { data: 'account_count' },
                { data: 'avg_users' },
                { data: 'avg_events' },
                { data: 'plans_represented' }
            ],
            pageLength: 5,
            searching: false
        });
        
        // Event Association Table
        $('#eventTable').DataTable({
            data: eventData,
            columns: [
                { data: 'event_type' },
                { data: 'bug_reporter_users' },
                { data: 'other_users' },
                { data: 'pct_bug_reporters' },
                { data: 'pct_other_users' }
            ],
            pageLength: 10
        });
        
        // Responsive
        window.addEventListener('resize', () => {
            behaviorChart.resize();
            revenueChart.resize();
        });
    </script>
</body>
</html>